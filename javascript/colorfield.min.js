var ColorFieldHandler=function(){var a=jQuery;this.initAll=function(){var b=this.initById;a(".ColorPickerInput").each(function(){b("#"+a(this).attr("id"))})};this.initById=function(b){a(b).ColorPicker({onSubmit:function(c,g,f){var e=(f.r+f.g+f.b)/3;var d=e>127?"#000000":"#ffffff";a(b).val(g).css({color:d,backgroundColor:"#"+g})},onBeforeShow:function(){a(this).ColorPickerSetColor(this.value)}}).bind("keyup",function(){a(this).ColorPickerSetColor(this.value)})}};CFHandler=new ColorFieldHandler();if(typeof Behaviour=="object"){Behaviour.register({".ColorPickerInput":{initialise:function(){CFHandler.initById("#"+this.id)}}})}jQuery(document).ready(function(){CFHandler.initAll()});